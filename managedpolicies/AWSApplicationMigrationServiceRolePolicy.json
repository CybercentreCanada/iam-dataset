{"name": "AWSApplicationMigrationServiceRolePolicy", "deprecated": false, "createdate": "2021-04-07T06:43:20Z", "updatedate": "2021-04-07T06:43:20+00:00", "version": "v1", "malformed": false, "unknown_actions": [], "access_levels": ["Write", "Read", "Tagging", "List"], "document": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["mgn:ListTagsForResource"], "Resource": "*"}, {"Effect": "Allow", "Action": ["kms:ListRetirableGrants"], "Resource": "*"}, {"Effect": "Allow", "Action": ["mgh:AssociateCreatedArtifact", "mgh:CreateProgressUpdateStream", "mgh:DisassociateCreatedArtifact", "mgh:GetHomeRegion", "mgh:ImportMigrationTask", "mgh:NotifyMigrationTaskState", "mgh:PutResourceAttributes"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2:DescribeAccountAttributes", "ec2:DescribeAvailabilityZones", "ec2:DescribeImages", "ec2:DescribeInstances", "ec2:DescribeInstanceTypes", "ec2:DescribeInstanceAttribute", "ec2:DescribeInstanceStatus", "ec2:DescribeLaunchTemplateVersions", "ec2:DescribeLaunchTemplates", "ec2:DescribeSecurityGroups", "ec2:DescribeSnapshots", "ec2:DescribeSubnets", "ec2:DescribeVolumes", "ec2:GetEbsDefaultKmsKeyId", "ec2:GetEbsEncryptionByDefault"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2:RegisterImage", "ec2:DeregisterImage"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2:DeleteSnapshot"], "Resource": "arn:aws:ec2:*:*:snapshot/*", "Condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:CreateLaunchTemplateVersion", "ec2:ModifyLaunchTemplate", "ec2:DeleteLaunchTemplate", "ec2:DeleteLaunchTemplateVersions"], "Resource": "arn:aws:ec2:*:*:launch-template/*", "Condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:DeleteVolume"], "Resource": "arn:aws:ec2:*:*:volume/*", "Condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:StartInstances", "ec2:StopInstances", "ec2:TerminateInstances", "ec2:ModifyInstanceAttribute", "ec2:GetConsoleOutput", "ec2:GetConsoleScreenshot"], "Resource": "arn:aws:ec2:*:*:instance/*", "Condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:RevokeSecurityGroupEgress", "ec2:AuthorizeSecurityGroupIngress", "ec2:AuthorizeSecurityGroupEgress"], "Resource": "arn:aws:ec2:*:*:security-group/*", "Condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:CreateVolume"], "Resource": "arn:aws:ec2:*:*:volume/*", "Condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:CreateSecurityGroup"], "Resource": "arn:aws:ec2:*:*:security-group/*", "Condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:CreateSecurityGroup"], "Resource": "arn:aws:ec2:*:*:vpc/*"}, {"Effect": "Allow", "Action": ["ec2:CreateLaunchTemplate"], "Resource": "arn:aws:ec2:*:*:launch-template/*", "Condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:CreateSnapshot"], "Resource": "arn:aws:ec2:*:*:volume/*", "Condition": {"Null": {"ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:CreateSnapshot"], "Resource": "arn:aws:ec2:*:*:snapshot/*", "Condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:DetachVolume", "ec2:AttachVolume"], "Resource": "arn:aws:ec2:*:*:instance/*", "Condition": {"Null": {"ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:AttachVolume"], "Resource": "arn:aws:ec2:*:*:volume/*", "Condition": {"Null": {"ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:DetachVolume"], "Resource": "arn:aws:ec2:*:*:volume/*"}, {"Effect": "Allow", "Action": ["ec2:RunInstances"], "Resource": "arn:aws:ec2:*:*:instance/*", "Condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"Effect": "Allow", "Action": ["ec2:RunInstances"], "Resource": ["arn:aws:ec2:*:*:security-group/*", "arn:aws:ec2:*:*:volume/*", "arn:aws:ec2:*:*:subnet/*", "arn:aws:ec2:*:*:image/*", "arn:aws:ec2:*:*:network-interface/*", "arn:aws:ec2:*:*:launch-template/*"]}, {"Effect": "Allow", "Action": ["iam:PassRole"], "Resource": ["arn:aws:iam::*:role/service-role/AWSApplicationMigrationReplicationServerRole", "arn:aws:iam::*:role/service-role/AWSApplicationMigrationConversionServerRole"], "Condition": {"StringEquals": {"iam:PassedToService": "ec2.amazonaws.com"}}}, {"Effect": "Allow", "Action": ["ec2:CreateTags"], "Resource": ["arn:aws:ec2:*:*:launch-template/*", "arn:aws:ec2:*:*:security-group/*", "arn:aws:ec2:*:*:volume/*", "arn:aws:ec2:*:*:snapshot/*", "arn:aws:ec2:*:*:instance/*"], "Condition": {"StringEquals": {"ec2:CreateAction": ["CreateLaunchTemplate", "CreateSecurityGroup", "CreateVolume", "CreateSnapshot", "RunInstances"]}}}]}, "effective_actions": [{"action": "mgn:ListTagsForResource", "effective_action": "mgn:ListTagsForResource", "access_levels": "Read", "condition": null}, {"action": "kms:ListRetirableGrants", "effective_action": "kms:ListRetirableGrants", "access_levels": "List", "condition": null}, {"action": "mgh:AssociateCreatedArtifact", "effective_action": "mgh:AssociateCreatedArtifact", "access_levels": "Write", "condition": null}, {"action": "mgh:CreateProgressUpdateStream", "effective_action": "mgh:CreateProgressUpdateStream", "access_levels": "Write", "condition": null}, {"action": "mgh:DisassociateCreatedArtifact", "effective_action": "mgh:DisassociateCreatedArtifact", "access_levels": "Write", "condition": null}, {"action": "mgh:GetHomeRegion", "effective_action": "mgh:GetHomeRegion", "access_levels": "Read", "condition": null}, {"action": "mgh:ImportMigrationTask", "effective_action": "mgh:ImportMigrationTask", "access_levels": "Write", "condition": null}, {"action": "mgh:NotifyMigrationTaskState", "effective_action": "mgh:NotifyMigrationTaskState", "access_levels": "Write", "condition": null}, {"action": "mgh:PutResourceAttributes", "effective_action": "mgh:PutResourceAttributes", "access_levels": "Write", "condition": null}, {"action": "ec2:DescribeAccountAttributes", "effective_action": "ec2:DescribeAccountAttributes", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeAvailabilityZones", "effective_action": "ec2:DescribeAvailabilityZones", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeImages", "effective_action": "ec2:DescribeImages", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeInstances", "effective_action": "ec2:DescribeInstances", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeInstanceTypes", "effective_action": "ec2:DescribeInstanceTypes", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeInstanceAttribute", "effective_action": "ec2:DescribeInstanceAttribute", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeInstanceStatus", "effective_action": "ec2:DescribeInstanceStatus", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeLaunchTemplateVersions", "effective_action": "ec2:DescribeLaunchTemplateVersions", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeLaunchTemplates", "effective_action": "ec2:DescribeLaunchTemplates", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeSecurityGroups", "effective_action": "ec2:DescribeSecurityGroups", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeSnapshots", "effective_action": "ec2:DescribeSnapshots", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeSubnets", "effective_action": "ec2:DescribeSubnets", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeVolumes", "effective_action": "ec2:DescribeVolumes", "access_levels": "List", "condition": null}, {"action": "ec2:GetEbsDefaultKmsKeyId", "effective_action": "ec2:GetEbsDefaultKmsKeyId", "access_levels": "Read", "condition": null}, {"action": "ec2:GetEbsEncryptionByDefault", "effective_action": "ec2:GetEbsEncryptionByDefault", "access_levels": "Read", "condition": null}, {"action": "ec2:RegisterImage", "effective_action": "ec2:RegisterImage", "access_levels": "Write", "condition": null}, {"action": "ec2:DeregisterImage", "effective_action": "ec2:DeregisterImage", "access_levels": "Write", "condition": null}, {"action": "ec2:DeleteSnapshot", "effective_action": "ec2:DeleteSnapshot", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:CreateLaunchTemplateVersion", "effective_action": "ec2:CreateLaunchTemplateVersion", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:ModifyLaunchTemplate", "effective_action": "ec2:ModifyLaunchTemplate", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:DeleteLaunchTemplate", "effective_action": "ec2:DeleteLaunchTemplate", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:DeleteLaunchTemplateVersions", "effective_action": "ec2:DeleteLaunchTemplateVersions", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:DeleteVolume", "effective_action": "ec2:DeleteVolume", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:StartInstances", "effective_action": "ec2:StartInstances", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:StopInstances", "effective_action": "ec2:StopInstances", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:TerminateInstances", "effective_action": "ec2:TerminateInstances", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:ModifyInstanceAttribute", "effective_action": "ec2:ModifyInstanceAttribute", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:GetConsoleOutput", "effective_action": "ec2:GetConsoleOutput", "access_levels": "Read", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:GetConsoleScreenshot", "effective_action": "ec2:GetConsoleScreenshot", "access_levels": "Read", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:RevokeSecurityGroupEgress", "effective_action": "ec2:RevokeSecurityGroupEgress", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:AuthorizeSecurityGroupIngress", "effective_action": "ec2:AuthorizeSecurityGroupIngress", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:AuthorizeSecurityGroupEgress", "effective_action": "ec2:AuthorizeSecurityGroupEgress", "access_levels": "Write", "condition": {"Null": {"aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:CreateVolume", "effective_action": "ec2:CreateVolume", "access_levels": "Write", "condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:CreateSecurityGroup", "effective_action": "ec2:CreateSecurityGroup", "access_levels": "Write", "condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:CreateSecurityGroup", "effective_action": "ec2:CreateSecurityGroup", "access_levels": "Write", "condition": null}, {"action": "ec2:CreateLaunchTemplate", "effective_action": "ec2:CreateLaunchTemplate", "access_levels": "Write", "condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:CreateSnapshot", "effective_action": "ec2:CreateSnapshot", "access_levels": "Write", "condition": {"Null": {"ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:CreateSnapshot", "effective_action": "ec2:CreateSnapshot", "access_levels": "Write", "condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:DetachVolume", "effective_action": "ec2:DetachVolume", "access_levels": "Write", "condition": {"Null": {"ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:AttachVolume", "effective_action": "ec2:AttachVolume", "access_levels": "Write", "condition": {"Null": {"ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:AttachVolume", "effective_action": "ec2:AttachVolume", "access_levels": "Write", "condition": {"Null": {"ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:DetachVolume", "effective_action": "ec2:DetachVolume", "access_levels": "Write", "condition": null}, {"action": "ec2:RunInstances", "effective_action": "ec2:RunInstances", "access_levels": "Write", "condition": {"Null": {"aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"}}}, {"action": "ec2:RunInstances", "effective_action": "ec2:RunInstances", "access_levels": "Write", "condition": null}, {"action": "iam:PassRole", "effective_action": "iam:PassRole", "access_levels": "Write", "condition": {"StringEquals": {"iam:PassedToService": "ec2.amazonaws.com"}}}, {"action": "ec2:CreateTags", "effective_action": "ec2:CreateTags", "access_levels": "Tagging", "condition": {"StringEquals": {"ec2:CreateAction": ["CreateLaunchTemplate", "CreateSecurityGroup", "CreateVolume", "CreateSnapshot", "RunInstances"]}}}]}