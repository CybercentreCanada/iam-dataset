{"name": "AWSMarketplaceImageBuildFullAccess", "deprecated": false, "createdate": "2018-08-08T21:11:59Z", "updatedate": "2018-08-08T21:11:59+00:00", "version": "v2", "malformed": false, "unknown_actions": [], "access_levels": ["Write", "Read", "Tagging", "List"], "document": {"Version": "2012-10-17", "Statement": [{"Effect": "Allow", "Action": ["aws-marketplace:ListBuilds", "aws-marketplace:StartBuild", "aws-marketplace:DescribeBuilds"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2:TerminateInstances"], "Resource": "*", "Condition": {"StringLike": {"ec2:ResourceTag/marketplace-image-build:build-id": "*"}}}, {"Effect": "Allow", "Action": ["iam:PassRole"], "Resource": ["arn:aws:iam::*:role/*Automation*", "arn:aws:iam::*:role/*Instance*"], "Condition": {"StringEquals": {"iam:PassedToService": ["ec2.amazonaws.com", "ssm.amazonaws.com"]}}}, {"Effect": "Allow", "Action": ["ssm:GetAutomationExecution", "ssm:CreateDocument", "ssm:StartAutomationExecution", "ssm:ListDocuments", "ssm:UpdateDocument", "ssm:UpdateDocumentDefaultVersion", "ssm:DescribeDocument", "ec2:DeregisterImage", "ec2:CopyImage", "ec2:DescribeSnapshots", "ec2:DescribeSecurityGroups", "ec2:DescribeImages", "ec2:DescribeSubnets", "ec2:DeleteSnapshot", "ec2:CreateImage", "ec2:RunInstances", "ec2:DescribeInstanceStatus", "sns:GetTopicAttributes", "iam:GetRole", "iam:GetInstanceProfile"], "Resource": "*"}, {"Effect": "Allow", "Action": ["s3:GetObject", "s3:ListBucket"], "Resource": ["arn:aws:s3:::*image-build*"]}, {"Effect": "Allow", "Action": ["ec2:CreateTags"], "Resource": ["arn:aws:ec2:*::image/*", "arn:aws:ec2:*:*:instance/*"]}, {"Effect": "Allow", "Action": ["sns:Publish"], "Resource": ["arn:aws:sns:*:*:*image-build*"]}]}, "effective_actions": [{"action": "aws-marketplace:ListBuilds", "effective_action": "aws-marketplace:ListBuilds", "access_levels": "Read", "condition": null}, {"action": "aws-marketplace:StartBuild", "effective_action": "aws-marketplace:StartBuild", "access_levels": "Write", "condition": null}, {"action": "aws-marketplace:DescribeBuilds", "effective_action": "aws-marketplace:DescribeBuilds", "access_levels": "Read", "condition": null}, {"action": "ec2:TerminateInstances", "effective_action": "ec2:TerminateInstances", "access_levels": "Write", "condition": {"StringLike": {"ec2:ResourceTag/marketplace-image-build:build-id": "*"}}}, {"action": "iam:PassRole", "effective_action": "iam:PassRole", "access_levels": "Write", "condition": {"StringEquals": {"iam:PassedToService": ["ec2.amazonaws.com", "ssm.amazonaws.com"]}}}, {"action": "ssm:GetAutomationExecution", "effective_action": "ssm:GetAutomationExecution", "access_levels": "Read", "condition": null}, {"action": "ssm:CreateDocument", "effective_action": "ssm:CreateDocument", "access_levels": "Write", "condition": null}, {"action": "ssm:StartAutomationExecution", "effective_action": "ssm:StartAutomationExecution", "access_levels": "Write", "condition": null}, {"action": "ssm:ListDocuments", "effective_action": "ssm:ListDocuments", "access_levels": "List", "condition": null}, {"action": "ssm:UpdateDocument", "effective_action": "ssm:UpdateDocument", "access_levels": "Write", "condition": null}, {"action": "ssm:UpdateDocumentDefaultVersion", "effective_action": "ssm:UpdateDocumentDefaultVersion", "access_levels": "Write", "condition": null}, {"action": "ssm:DescribeDocument", "effective_action": "ssm:DescribeDocument", "access_levels": "Read", "condition": null}, {"action": "ec2:DeregisterImage", "effective_action": "ec2:DeregisterImage", "access_levels": "Write", "condition": null}, {"action": "ec2:CopyImage", "effective_action": "ec2:CopyImage", "access_levels": "Write", "condition": null}, {"action": "ec2:DescribeSnapshots", "effective_action": "ec2:DescribeSnapshots", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeSecurityGroups", "effective_action": "ec2:DescribeSecurityGroups", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeImages", "effective_action": "ec2:DescribeImages", "access_levels": "List", "condition": null}, {"action": "ec2:DescribeSubnets", "effective_action": "ec2:DescribeSubnets", "access_levels": "List", "condition": null}, {"action": "ec2:DeleteSnapshot", "effective_action": "ec2:DeleteSnapshot", "access_levels": "Write", "condition": null}, {"action": "ec2:CreateImage", "effective_action": "ec2:CreateImage", "access_levels": "Write", "condition": null}, {"action": "ec2:RunInstances", "effective_action": "ec2:RunInstances", "access_levels": "Write", "condition": null}, {"action": "ec2:DescribeInstanceStatus", "effective_action": "ec2:DescribeInstanceStatus", "access_levels": "List", "condition": null}, {"action": "sns:GetTopicAttributes", "effective_action": "sns:GetTopicAttributes", "access_levels": "Read", "condition": null}, {"action": "iam:GetRole", "effective_action": "iam:GetRole", "access_levels": "Read", "condition": null}, {"action": "iam:GetInstanceProfile", "effective_action": "iam:GetInstanceProfile", "access_levels": "Read", "condition": null}, {"action": "s3:GetObject", "effective_action": "s3:GetObject", "access_levels": "Read", "condition": null}, {"action": "s3:ListBucket", "effective_action": "s3:ListBucket", "access_levels": "List", "condition": null}, {"action": "ec2:CreateTags", "effective_action": "ec2:CreateTags", "access_levels": "Tagging", "condition": null}, {"action": "sns:Publish", "effective_action": "sns:Publish", "access_levels": "Write", "condition": null}]}